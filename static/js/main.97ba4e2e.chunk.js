(this["webpackJsonpanyfolder-test"]=this["webpackJsonpanyfolder-test"]||[]).push([[0],{64:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n,c,i,r,s=a(3),d=a.n(s),l=a(51),o=a.n(l),u=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,82)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))},b=a(79),j=a(34),p=a(54),O=a(70),m=a(80),h=a(43),f="https://api.monday.com/v2",x="eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjEzNTU0NjYyMywidWlkIjoyNjI5NjMwMywiaWFkIjoiMjAyMS0xMi0wMlQxMTowNzo0NS45MThaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTA1NTk0MzEsInJnbiI6InVzZTEifQ.8yF5KXTxKKoOgtCfGgvEVtO0ZmeJrn8PWKKW6OnPMJ8",g=Object(p.a)({uri:f}),v=Object(p.a)({uri:"".concat(f,"/file")}),N=Object(h.a)((function(e,t){var a=t.headers;return{headers:Object(j.a)(Object(j.a)({},a),{},{authorization:x})}})),_=Object(h.a)((function(e,t){var a=t.headers;return{headers:Object(j.a)(Object(j.a)({},a),{},{authorization:x,"Content-Type":"multipart/form-data"})}})),y=new O.a({link:N.concat(g),cache:new m.a}),I=(new O.a({link:_.concat(v),cache:new m.a}),a(64),a(44)),S=a.n(I),T=a(53),$=a(8),w=a(77),C=a(78),M=a(32),k=a(33),J=Object(k.a)(n||(n=Object(M.a)(["\n  query {\n    boards {\n      id\n      name\n      groups {\n        id\n        title\n      }\n    }\n  }\n"]))),E=Object(k.a)(c||(c=Object(M.a)(["\n  mutation ($board_id: Int!, $group_id: String!, $item_name: String!) {\n    create_item (board_id: $board_id, group_id: $group_id, item_name: $item_name) {\n      id\n    }\n  }\n"]))),A=Object(k.a)(i||(i=Object(M.a)(["\n  mutation ($item_id: Int!, $body: String!) {\n    create_update (item_id: $item_id, body: $body) {\n      id\n    }\n  }\n"]))),F=(Object(k.a)(r||(r=Object(M.a)(["\n  mutation ($update_id: Int!, $file: File!) {\n    add_file_to_update (update_id: $update_id, file: $file) {\n      id\n    }\n  }\n"]))),a(4)),z=function(e){var t=e.status,a="snackbar "+t;return Object(F.jsxs)("div",{className:a,children:["success"===t&&"Done! Task created!","error"===t&&"Error! Try again."]})},G=function(){var e=Object(s.useState)(!1),t=Object($.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),i=Object($.a)(c,2),r=i[0],d=i[1],l=Object(s.useState)(""),o=Object($.a)(l,2),u=o[0],b=o[1],j=Object(s.useState)(""),p=Object($.a)(j,2),O=p[0],m=p[1],h=Object(s.useState)(""),f=Object($.a)(h,2),g=f[0],v=f[1],N=Object(s.useState)(!1),_=Object($.a)(N,2),y=_[0],I=_[1],M=Object(s.useRef)(),k=Object(w.a)(J),G=k.loading,K=k.data,W=Object(C.a)(E),P=Object($.a)(W,1)[0],B=Object(C.a)(A),D=Object($.a)(B,1)[0],R=function(){var e=Object(T.a)(S.a.mark((function e(){var t,a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P({variables:{board_id:Number(r),group_id:u,item_name:O}});case 3:return t=e.sent,e.next=6,D({variables:{item_id:Number(t.data.create_item.id),body:g}});case 6:if(a=e.sent,!M.current.files.length){e.next=15;break}return(c=new FormData).append("query","mutation ($update_id: Int!, $file: File!) {add_file_to_update (update_id: $update_id, file: $file) {id}}"),c.append("variables",JSON.stringify({update_id:Number(a.data.create_update.id)})),c.append("map",JSON.stringify({image:"variables.file"})),c.append("image",M.current.files[0]),e.next=15,fetch("https://api.monday.com/v2/file",{mode:"cors",method:"POST",headers:{Authorization:x,"Content-Type":"multipart/form-data"},body:c});case 15:console.log("Item created!"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),I(!0),console.log("Error:",e.t0);case 22:return e.next=24,n(!0),void setTimeout((function(){n(!1),I(!1)}),3e3);case 24:d(""),b(""),m(""),v("");case 28:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return G?null:Object(F.jsxs)("div",{children:[a&&Object(F.jsx)(z,{status:y?"error":"success"}),Object(F.jsx)("h1",{children:"CREATE AN ITEM"}),Object(F.jsxs)("div",{className:"form",children:[Object(F.jsxs)("label",{className:"board",children:[Object(F.jsx)("span",{className:"label",children:"Board"}),Object(F.jsxs)("select",{value:r,onChange:function(e){return d(e.target.value)},className:"input",children:[Object(F.jsx)("option",{children:"Select Board"}),K.boards.map((function(e){var t=e.id,a=e.name;return Object(F.jsx)("option",{value:t,children:a},t)}))]})]}),Object(F.jsxs)("label",{className:"group",children:[Object(F.jsx)("span",{className:"label",children:"Group"}),Object(F.jsxs)("select",{value:u,onChange:function(e){return b(e.target.value)},className:"input",children:[Object(F.jsx)("option",{children:"Select Group"}),r&&K.boards.find((function(e){return e.id===r})).groups.map((function(e){var t=e.id,a=e.title;return Object(F.jsx)("option",{value:t,children:a},t)}))]})]}),Object(F.jsxs)("label",{className:"name",children:[Object(F.jsx)("span",{className:"label",children:"Item Name"}),Object(F.jsx)("input",{value:O,onChange:function(e){return m(e.target.value)},type:"text",className:"input"})]}),Object(F.jsxs)("label",{className:"description",children:[Object(F.jsx)("span",{className:"label",children:"Description"}),Object(F.jsx)("textarea",{value:g,onChange:function(e){return v(e.target.value)},className:"input"})]}),Object(F.jsxs)("label",{className:"image",children:[Object(F.jsx)("span",{className:"label",children:"Add image"}),Object(F.jsx)("input",{type:"file",className:"input",ref:M})]}),Object(F.jsx)("button",{onClick:function(){return R()},disabled:!r||!u||!O,className:"create-btn",children:"CREATE TASK"})]})]})};var K=function(){return Object(F.jsx)("div",{className:"App",children:Object(F.jsx)(G,{})})};a(67);o.a.render(Object(F.jsx)(d.a.StrictMode,{children:Object(F.jsx)(b.a,{client:y,children:Object(F.jsx)(K,{})})}),document.getElementById("root")),u()}},[[68,1,2]]]);
//# sourceMappingURL=main.97ba4e2e.chunk.js.map